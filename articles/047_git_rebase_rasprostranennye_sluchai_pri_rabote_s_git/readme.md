# Git rebase: —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Å–ª—É—á–∞–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å git

![Photo by Ross Sneddon on Unsplash](image01.jpeg)

–ö–∞–∂–¥—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å git, –Ω–æ –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é –Ω–µ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç rebase –≤ —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç–µ. –ú–∞–ª–æ –∫—Ç–æ –∑–Ω–∞–µ—Ç –≤ –∫–∞–∫–∏—Ö —Ä–∞–±–æ—á–∏—Ö –∫–µ–π—Å–∞—Ö –æ–Ω –º–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É —è –Ω–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—É—é —Å—Ç–∞—Ç—å—é —Å —Ä–∞–∑–±–æ—Ä–∞–º–∏ —Ä–∞–±–æ—á–∏—Ö —Å–∏—Ç—É–∞—Ü–∏–π.

**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ**: –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–¥–µ—Å—å –ø—Ä–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–¥ –æ–¥–Ω–∏–º —Ñ–∞–π–ª–æ–º. –≠—Ç–æ —É–¥–æ–±–Ω–æ —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã, –Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —á—Ç–æ –ø—Ä–∏ rebase –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã. –ü–æ—ç—Ç–æ–º—É —Ä–∞–∑–±–æ—Ä –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤ —Å—Ç–∞—Ç—å–µ –Ω–µ –±—É–¥–µ—Ç.

–ù–µ —É–¥–∏–≤–ª—è–π—Ç–µ—Å—å —á—Ç–æ –ø–æ—Å–ª–µ rebase –ø—Ä–∏–¥–µ—Ç—Å—è –ø—É—à–∏—Ç—å –∫–æ–¥ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `-f`. –≠—Ç–æ –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

```
git push origin head -f
```

–ù–æ –µ—Å—Ç—å –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—à–∏—Ç—å –∫–æ–¥ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á [--force-with-lease](https://stackoverflow.com/questions/8939977/git-push-rejected-after-feature-branch-rebase)

```
git push origin head --force-with-lease
```

## –ö–µ–π—Å—ã

1. –ü–æ–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–º–∏—Ç –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ (fixup + rebase)
1. –£–¥–∞–ª–∏—Ç—å –∫–æ–º–º–∏—Ç –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ (rebase + drop)
1. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –∫–æ–º–º–∏—Ç—ã –∏ –ø–æ–º–µ–Ω—è—Ç—å —Ç–µ–∫—Å—Ç –∏—Ç–æ–≥–æ–≤–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ (rebase/soft reset)
1. –ü–æ–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç (soft reset)
1. –ü–æ–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–º–∏—Ç–∞ (amend)
1. –ü–æ–º–µ–Ω—è—Ç—å –∫–æ–º–º–∏—Ç—ã –º–µ—Å—Ç–∞–º–∏ (rebase)

![Photo by Wonderlane on Unsplash](image02.jpeg)

## 1) –ó–∞–¥–∞—á–∞: –ø–æ–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–º–∏—Ç –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ

**–†–µ—à–µ–Ω–∏–µ**: —Å–¥–µ–ª–∞—Ç—å fixup

–£ –Ω–∞—Å –µ—Å—Ç—å 4 –∫–æ–º–º–∏—Ç–∞ –≤ –∫–æ—Ç–æ—Ä—ã—Ö –º—ã –ø—Ä–∞–≤–∏–ª–∏ –æ–¥–∏–Ω —Ñ–∞–π–ª

```
$ git log --oneline master..HEAD
aa871c7 (HEAD -> example_1, base_branch) add third paragraph to readme
3774350 add second paragraph to readme
2143008 add first paragraph to readme
1da47ab add title to readme

$ git diff master..HEAD
diff ‚Äî git a/README.md b/README.md
index e69de29..315b9d6 100644
 ‚Äî ‚Äî a/README.md
+++ b/README.md
@@ -0,0 +1,7 @@
+## Hello
+
+First paragraph
+
+Second paragraph
+
+Third paragraph
```

–ù–∞–º –Ω—É–∂–Ω–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–º–∏—Ç –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–µ—Ä–≤—ã–π –ø–∞—Ä–∞–≥—Ä–∞—Ñ (2143008). –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª README.md –∏ –ø—Ä–∞–≤–∏–º —Ç–µ–∫—Å—Ç –ø–µ—Ä–≤–æ–≥–æ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞.

```
$ git diff
diff ‚Äî git a/README.md b/README.md
index 315b9d6..14dc0b7 100644
 ‚Äî ‚Äî a/README.md
+++ b/README.md
@@ -1,7 +1,3 @@
 ## Hello
-First paragraph
-
-Second paragraph
-
-Third paragraph
+First paragraph :)
```

–¢–∞–∫ –∫–∞–∫ –º—ã –≤ –ø—Ä–∏–º–µ—Ä–µ –º–µ–Ω—è–µ–º –æ–¥–∏–Ω —Ñ–∞–π–ª, —Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫ –∫–∞–∫–∏–º –æ–Ω –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –ø–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞ (2143008) —Ç.–µ —Ç–∞–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –ø–µ—Ä–≤—ã–π –ø–∞—Ä–∞–≥—Ä–∞—Ñ.

–î–µ–ª–∞–µ–º "fixup –∫–æ–º–º–∏—Ç" –∑–∞–¥–∞—á–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å –¥—Ä—É–≥–æ–π –∫–æ–º–º–∏—Ç –≤ –∏—Å—Ç–æ—Ä–∏–∏. –°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–ª–µ–¥—É—é—â–∏–π `git commit ‚Äî fixup <commit_id>`

```
$ git add README.md
$ git commit ‚Äî fixup 2143008
[example_1 4d0edd6] fixup! add first paragraph to readme
 1 file changed, 1 insertion(+), 5 deletions(-)
```

–ì–æ—Ç–æ–≤–æ, —É –Ω–∞—Å –µ—Å—Ç—å –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç, –Ω–æ –Ω–∞–¥–æ –µ—â–µ –ø—Ä–∏–ª–æ–∂–∏—Ç—å —É—Å–∏–ª–∏—è —á—Ç–æ–±—ã –æ–Ω –ø—Ä–∏–º–µ–Ω–∏–ª—Å—è –∫ –∫–æ–º–º–∏—Ç—É (2143008).

```
$ git log --oneline master..HEAD
4d0edd6 (HEAD -> example_1) fixup! add first paragraph to readme
aa871c7 (base_branch) add third paragraph to readme
3774350 add second paragraph to readme
2143008 add first paragraph to readme
1da47ab add title to readme
```

–î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å rebase –∫ –∫–æ–º–º–∏—Ç—É –Ω–∞ 1 –Ω–∏–∂–µ —Ç–æ–≥–æ –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ö–æ—Ç–∏–º –ø–æ–ø—Ä–∞–≤–∏—Ç—å (1da47ab) (–≤–æ–∑–º–æ–∂–Ω–æ –∑–¥–µ—Å—å –ø—Ä–∏–¥–µ—Ç—Å—è –≤ —è–≤–Ω–æ–º –≤–∏–¥–µ —Ä–µ—à–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, –µ—Å–ª–∏ git –Ω–µ –ø–æ–Ω—è–ª –∫–∞–∫ —Å–≤—è–∑–∞—Ç—å hotfix).

```
$ EDITOR=vim git rebase -i --autosquash 1da47ab
# –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ –∫–æ–º–º–∏—Ç fixup –≤—Å—Ç–∞–ª –Ω–∞ —Å–≤–æ–µ ‚Äú–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ‚Äù –º–µ—Å—Ç–æ, –∞ –Ω–µ –≤ –∫–æ–Ω—Ü–µ –∏—Å—Ç–æ—Ä–∏–∏
1 pick 2143008 add first paragraph to readme
2 fixup 4d0edd6 fixup! add first paragraph to readme
3 pick 3774350 add second paragraph to readme
4 pick aa871c7 add third paragraph to readme
Successfully rebased and updated refs/heads/example_1.
```

–ü–æ—Å–º–æ—Ç—Ä–∏–º —Ç–µ–ø–µ—Ä—å –Ω–∞ –∏—Å—Ç–æ—Ä–∏—é.

```
$ git log --oneline master..HEAD
8b8e8b2 (HEAD -> example_1) add third paragraph to readme
9dc3b2f add second paragraph to readme
557541f add first paragraph to readme
1da47ab add title to readme
```

–ò –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

```
$ git diff master..HEAD
diff ‚Äî git a/README.md b/README.md
index e69de29..ff9fc5e 100644
 ‚Äî ‚Äî a/README.md
+++ b/README.md
@@ -0,0 +1,7 @@
+## Hello
+
+First paragraph :)
+
+Second paragraph
+
+Third paragraph
```

–£—Ä–∞, —É –Ω–∞—Å –ø–æ–ª—É—á–∏–ª–æ—Å—å!

![Photo by Xavi Cabrera on Unsplash](image03.jpeg)

## 2) –ó–∞–¥–∞—á–∞: —É–¥–∞–ª–∏—Ç—å –∫–æ–º–º–∏—Ç –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ

**–†–µ—à–µ–Ω–∏–µ**: —Å–¥–µ–ª–∞—Ç—å drop

–£ –Ω–∞—Å –µ—Å—Ç—å —Ç–µ –∂–µ —Å–∞–º—ã–µ 4 –∫–æ–º–º–∏—Ç–∞ –≥–¥–µ –º—ã –ø—Ä–∞–≤–∏–ª–∏ –æ–¥–∏–Ω —Ñ–∞–π–ª

```
$ git log --oneline master..HEAD
aa871c7 (HEAD -> example_2, base_branch) add third paragraph to readme
3774350 add second paragraph to readme
2143008 add first paragraph to readme
1da47ab add title to readme

$ git diff master..HEAD
diff ‚Äî git a/README.md b/README.md
index e69de29..315b9d6 100644
 ‚Äî ‚Äî a/README.md
+++ b/README.md
@@ -0,0 +1,7 @@
+## Hello
+
+First paragraph
+
+Second paragraph
+
+Third paragraph
```

–ú—ã –ø–æ–Ω—è–ª–∏ —á—Ç–æ –ø–µ—Ä–≤—ã–π –ø–∞—Ä–∞–≥—Ä–∞—Ñ –Ω–∞–º –Ω–µ –Ω—É–∂–µ–Ω. –£–¥–∞–ª—è—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–æ–≤—ã–º –∫–æ–º–º–∏—Ç–æ–º –Ω–µ —Ö–æ—á–µ—Ç—Å—è —Ç.–∫. –º—ã –º–æ–∂–µ—Ç –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π. –î–ª—è —ç—Ç–æ–≥–æ –¥–µ–ª–∞–µ–º rebase –∫ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–µ–º—É –∫–æ–º–º–∏—Ç—É (1da47ab).

```
$ EDITOR=vim git rebase -i 1da47ab
```

–ò –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º drop –∫ —Ç–æ–º—É –∫–æ–º–º–∏—Ç—É, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ö–æ—Ç–∏–º —É–¥–∞–ª–∏—Ç—å.

```
1 drop 2143008 add first paragraph to readme
2 pick 3774350 add second paragraph to readme
3 pick aa871c7 add third paragraph to readme
```

–ü–æ—Å–º–æ—Ç—Ä–∏–º —á—Ç–æ —É –Ω–∞—Å –ø–æ–ª—É—á–∏–ª–æ—Å—å.

```
$ git log --oneline master..HEAD
2b87851 (HEAD -> example_2) add third paragraph to readme
db792c4 add second paragraph to readme
1da47ab add title to readme

$ git diff master..HEAD
diff ‚Äî git a/README.md b/README.md
index e69de29..3354aa2 100644
 ‚Äî ‚Äî a/README.md
+++ b/README.md
@@ -0,0 +1,5 @@
+## Hello
+
+Second paragraph
+
+Third paragraph
```

![Photo by Bianca Ackermann on Unsplash](image04.jpeg)

## 3) –ó–∞–¥–∞—á–∞: –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∫–æ–º–º–∏—Ç—ã –∏ –ø–æ–º–µ–Ω—è—Ç—å —Ç–µ–∫—Å—Ç –∏—Ç–æ–≥–æ–≤–æ–≥–æ –∫–æ–º–º–∏—Ç–∞

**–†–µ—à–µ–Ω–∏–µ**: —Å–¥–µ–ª–∞—Ç—å rebase

–£ –Ω–∞—Å –µ—Å—Ç—å –æ–¥–∏–Ω README.md —Ñ–∞–π–ª –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ "wip" –∫–æ–º–º–∏—Ç–æ–≤.

```
$ git log --oneline master..HEAD
33e58db (HEAD -> example_3) wip
585c26b wip
173ab1f wip
c1f8895 wip
85855c0 wip
$ git diff master..HEAD
diff ‚Äî git a/README.md b/README.md
index e69de29..6222dc3 100644
 ‚Äî ‚Äî a/README.md
+++ b/README.md
@@ -0,0 +1,7 @@
+## h2 header
+
+Some text. Bla-bla-bla
+
+### h3 header
+
+Some text again. LOL
```

–ù–∞—à–∞ –∑–∞–¥–∞—á–∞ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —ç—Ç–æ –∫–æ–º–º–∏—Ç—ã –≤ –æ–¥–∏–Ω —Å –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º. –î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å rebase –Ω–∞ 5 –∫–æ–º–º–∏—Ç–æ–≤ –Ω–∞–∑–∞–¥.

```
$ git log --oneline master..HEAD | wc -l
5
$ EDITOR=vim git rebase -i HEAD~5
```

–ò –ø–æ–º–µ–Ω—è—Ç—å pick –Ω–∞ squash

```
1 pick 85855c0 wip
2 squash c1f8895 wip
3 squash 173ab1f wip
4 squash 585c26b wip
5 squash 33e58db wip
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—Ä—É—á–Ω—É—é –ø–æ–º–µ–Ω—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∫–æ–º–º–∏—Ç–∞.

```
1 # This is a combination of 5 commits.
2 # This is the 1st commit message:
3
4 Create README.md file
5
6 # This is the commit message #2:
7
8 wip
9
10 # This is the commit message #3:
11
12 wip
13
14 # This is the commit message #4:
15
16 wip
17
18 # This is the commit message #5:
19
20 wip
```

–í—Ä–æ–¥–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å

```
[detached HEAD 30310eb] Create README.md file
 Date: Sun Dec 6 22:00:41 2020 +0300
 1 file changed, 7 insertions(+)
Successfully rebased and updated refs/heads/example_3.
```

–ü–æ—Å–º–æ—Ç—Ä–∏–º —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –≤ –∏—Ç–æ–≥–µ.

```
$ git log --oneline master..HEAD
30310eb (HEAD -> example_3) Create README.md file
$ git diff master..HEAD
diff ‚Äî git a/README.md b/README.md
index e69de29..6222dc3 100644
 ‚Äî ‚Äî a/README.md
+++ b/README.md
@@ -0,0 +1,7 @@
+## h2 header
+
+Some text. Bla-bla-bla
+
+### h3 header
+
+Some text again. LOL
```

–£—Ä–∞, –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–¥–∏–Ω–∏–ª–∏—Å—å –≤ –æ–¥–∏–Ω –∫–æ–º–º–∏—Ç.

![Photo by Fabian K√ºhne on Unsplash](image05.jpeg)


**–†–µ—à–µ–Ω–∏–µ 2**: —Å–¥–µ–ª–∞—Ç—å soft reset

–î–µ–ª–∞–µ–º soft reset –Ω–∞ 5 –∫–æ–º–º–∏—Ç–æ–≤ –Ω–∞–∑–∞–¥

```
$ git log --oneline master..HEAD | wc -l
5
$ git reset --soft HEAD~5
```

–ò —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–∏–Ω –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç.

```
$ git ci -m "Add README.md file"
[example_3.2 22513de] Add README.md file
 1 file changed, 7 insertions(+)
```

–ü–æ—Å–º–æ—Ç—Ä–∏–º —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å.

```
$ git log --oneline master..HEAD
22513de (HEAD -> example_3.2) Add README.md file

$ git diff master..HEAD
diff ‚Äî git a/README.md b/README.md
index e69de29..6222dc3 100644
 ‚Äî ‚Äî a/README.md
+++ b/README.md
@@ -0,0 +1,7 @@
+## h2 header
+
+Some text. Bla-bla-bla
+
+### h3 header
+
+Some text again. LOL
```

–í—Å–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å!

![Photo by Delaney Van on Unsplash](image06.jpeg)

## 4) –ó–∞–¥–∞—á–∞: –ø–æ–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç

**–†–µ—à–µ–Ω–∏–µ**: —Å–¥–µ–ª–∞—Ç—å soft reset

–ò—Ç–∞–∫, —É –Ω–∞—Å –µ—Å—Ç—å –¥–≤–∞ –∫–æ–º–º–∏—Ç–∞. –ü–æ –∫–∞–∫–∏–º-—Ç–æ –ø—Ä–∏—á–∏–Ω–∞–º –Ω–∞–º –Ω–∞–¥–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç.

```
$ git log --oneline master..HEAD
4efcc59 (HEAD -> example_3.2) Add more text to README.md
22513de Add README.md file
```

–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å fixup, –Ω–æ –æ–Ω —Ç—Ä–µ–±—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏–π. –ì–æ—Ä–∞–∑–¥–æ –±—ã—Å—Ç—Ä–µ–µ —Å–¥–µ–ª–∞—Ç—å –ø–æ-–¥—Ä—É–≥–æ–º—É - —É–±–∏—Ä–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç, –Ω–æ –æ—Å—Ç–∞–≤–ª—è–µ–º –≤—Å–µ —Ç–µ–∫—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

```
$ git reset --soft HEAD~1
```

–í –∏—Ç–æ–≥–µ —É –Ω–∞—Å –≤ –∏—Å—Ç–æ—Ä–∏–∏ –æ—Å—Ç–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–º–º–∏—Ç.

```
$ git log --oneline master..HEAD
22513de (HEAD -> example_3.2) Add README.md file
```

–ù–æ –≤—Å–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å—Ç–∞–ª–∏—Å—å –Ω–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ

```
$ git st
On branch example_3.2
Changes to be committed:
 (use "git reset HEAD <file>‚Ä¶" to unstage)
modified: README.md
```

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø–æ–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–µ –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–º –Ω–∞–¥–æ –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç.

```
$ git ci -a -m "Add more text to README.md"
[example_3.2 87eaff0] Add more text to README.md
 1 file changed, 2 insertions(+)
```

–í—É–∞–ª—è, –≤—Å–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å

```
$ git log --oneline master..HEAD
87eaff0 (HEAD -> example_3.2) Add more text to README.md
22513de Add README.md file
```

![Photo by Lydia Tallent on Unsplash](image07.jpeg)

## 5) –ó–∞–¥–∞—á–∞: –ø–æ–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–º–∏—Ç–∞

**–†–µ—à–µ–Ω–∏–µ**: —Å–¥–µ–ª–∞—Ç—å amend

–ò–Ω–æ–≥–¥–∞ –≤ —Ç–µ–∫—Å—Ç–µ –∫–æ–º–º–∏—Ç–∞ –º–æ–∂–Ω–æ –¥–æ–ø—É—Å—Ç–∏—Ç—å –æ—à–∏–±–∫—É –∏ –µ–≥–æ –Ω–∞–¥–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å. –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å amend.

```
$ git log --oneline master..HEAD
fb77ed2 (HEAD -> example_3.2) improve documentattion
87eaff0 Add more text to README.md
22513de Add README.md file
```

–í –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–æ–º–º–∏—Ç–µ –æ–ø–µ—á–∞—Ç–∫–∞ –≤ —Å–ª–æ–≤–µ ‚Äúdocumentation‚Äù. –ü–æ–ø—Ä–∞–≤–∏–º –µ–≥–æ

```
$ git commit --amend -m "improve documentation"
[example_3.2 ed02c8a] improve documentation
 Date: Sun Dec 6 22:57:22 2020 +0300
 1 file changed, 2 insertions(+)

git log --oneline master..HEAD
ed02c8a (HEAD -> example_3.2) improve documentation
87eaff0 Add more text to README.md
22513de Add README.md file
```

![Photo by Mor THIAM on Unsplash](image08.jpeg)

## 6) –ó–∞–¥–∞—á–∞: –ø–æ–º–µ–Ω—è—Ç—å –∫–æ–º–º–∏—Ç—ã –º–µ—Å—Ç–∞–º–∏

**–†–µ—à–µ–Ω–∏–µ**: —Å–¥–µ–ª–∞—Ç—å rebase

–ò—Ç–∞–∫, —É –Ω–∞—Å –æ–ø—è—Ç—å –µ—Å—Ç—å —Ç—Ä–∏ –∫–æ–º–º–∏—Ç–∞

```
$ git log --oneline master..HEAD
98bfce0 (HEAD -> example_6) add footer to Readme.md
9fd509c add header to Readme.md
589ad4d add text to Readme.md
```

–í –∫–æ—Ç–æ—Ä—ã—Ö –º—ã –º–µ–Ω—è–ª–∏ –æ–¥–∏–Ω —Ñ–∞–π–ª.

```
$ git diff master..HEAD
diff --git a/README.md b/README.md
index e69de29..2c6d4f9 100644
 ‚Äî ‚Äî a/README.md
+++ b/README.md
@@ -0,0 +1,7 @@
+# Header
+
+Text. Bla-bla-bla.
+Some text.
+And text, again.
+
+# Footer
```

–ö–∞–∫ –ø–æ–º–µ–Ω—è—Ç—å –º–µ—Å—Ç–∞–º–∏ –∫–æ–º–º–∏—Ç—ã —á—Ç–æ–±—ã —Å–ø–µ—Ä–≤–∞ –≤ –∏—Å—Ç–æ—Ä–∏–∏ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É—Ç–µ—Ä–∞ (98bfce0), –∞ –ø–æ—Ç–æ–º —É–∂–µ —Ö–µ–¥–µ—Ä–∞ (9fd509c)? –î–ª—è —ç—Ç–æ–≥–æ –¥–µ–ª–∞–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π rebase –Ω–∞ 3 –∫–æ–º–º–∏—Ç–∞ –Ω–∞–∑–∞–¥

```
$ EDITOR=vim git rebase -i HEAD~3
1 pick 589ad4d add text to Readme.md
2 pick 9fd509c add header to Readme.md
3 pick 98bfce0 add footer to Readme.md
```

–ò –º–µ–Ω—è–µ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–æ–≤

```
1 pick 589ad4d add text to Readme.md
2 pick 98bfce0 add footer to Readme.md
3 pick 9fd509c add header to Readme.md
```

–ü–æ—Å–º–æ—Ç—Ä–∏–º —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å.

```
$ git diff master..HEAD
diff ‚Äî git a/README.md b/README.md
index e69de29..2c6d4f9 100644
 ‚Äî ‚Äî a/README.md
+++ b/README.md
@@ -0,0 +1,7 @@
+# Header
+
+Text. Bla-bla-bla.
+Some text.
+And text, again.
+
+# Footer

$ git log --oneline master..HEAD
a4e641f (HEAD -> example_6) add header to Readme.md
cf87d0a add footer to Readme.md
589ad4d add text to Readme.md
```

–î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞–∑–∞–¥ —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —É–±–µ—Ä–µ—Ç—Å—è —Ö–µ–¥–µ—Ä, –∞ —Ñ—É—Ç–µ—Ä –æ—Å—Ç–∞–Ω–µ—Ç—Å—è.

```
$ git reset --hard HEAD~1
HEAD is now at cf87d0a add footer to Readme.md

$ cat README.md

Text. Bla-bla-bla.
Some text.
And text, again.
# Footer
```

–ò –≤–∑–≥–ª—è–Ω–µ–º –Ω–∞ –∏—Å—Ç–æ—Ä–∏—é –∫–æ–º–º–∏—Ç–æ–≤.

```
$ git log --oneline master..HEAD
cf87d0a (HEAD -> example_6) add footer to Readme.md
589ad4d add text to Readme.md
```

–í–æ—Ç –∏ –≤—Å–µ! –ù–∞–¥–µ—é—Å—å —á—Ç–æ –¥–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è –±—ã–ª–∞ –ø–æ–ª–µ–∑–Ω–∞—è üòÅ

[Medium](https://kopilov-vlad.medium.com/git-rebase-%D1%80%D0%B0%D1%81%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D1%81%D0%BB%D1%83%D1%87%D0%B0%D0%B8-%D0%BF%D1%80%D0%B8-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5-%D1%81-git-f5f9d3bc8047)
